---
import { Image } from "@astrojs/image/components";
import RssIcon from "./icons/RssIcon";
import LinkedinIcon from "./icons/LinkedinIcon";
import GithubIcon from "./icons/GithubIcon";

const home = 'Home';
const contact = 'Contact';
const projects = 'Projects';
const experience = 'Experience';
const education = 'Education';
const languages = 'Languages';
const certifications = 'Certifications';
const skills = 'Skills';
---

<div class="drawer-side bg-base-200">
  <label for="my-drawer" class="drawer-overlay bg-base-200"></label>
  <div
    class="menu flex flex-col items-center flex-nowrap p-4 overflow-y-auto w-[20rem] bg-base-200 text-base-content"
  >
    <div class="w-fit">
      <a href="/">
        <div
          class="avatar transition ease-in-out w-1/2 hover:scale-[102%] block m-auto mt-3 mb-6 h-36"
        >
          <div>
            <Image
              class="mask mask-circle"
              aspectRatio="1:1"
              format="webp"
              width={300}
              height={300}
              src="/profile.webp"
              alt="Profile image"
            />
          </div>
        </div>
      </a>
    </div>
    <ul class="grow shrink pt-10">
      <li><a class="menu" id="home" href="/">{home}</a></li>
      <li><a class="menu" id="projects" href="/#projects">{projects}</a></li>
      <li><a class="menu" id="experience" href="/#experience">{experience}</a></li>
      <li><a class="menu" id="education" href="/#education">{education}</a></li>
      <li><a class="menu" id="languages" href="/#languages">{languages}</a></li>
      <li><a class="menu" id="certifications" href="/#certifications">{certifications}</a></li>
      <li><a class="menu" id="skills" href="/#skills">{skills}</a></li>
      <li><a class="menu" href="mailto:ferranhpv3@gmail.com">{contact}</a></li>
    </ul>
    <div class="social-icons px-4 my-2 flex self-center">
      <a
        href="https://github.com/Ferranv3"
        target="_blank"
        class="mx-3"
        aria-label="Github"
        title="Github"
      >
        <GithubIcon />
      </a>
      <a
        href="https://www.linkedin.com/in/ferran-hernandez-v3/"
        target="_blank"
        class="mx-3"
        aria-label="Linkedin"
        title="Linkedin"
      >
        <LinkedinIcon />
      </a>

      <a
        href="/rss.xml"
        target="_blank"
        class="mx-3"
        aria-label="RSS Feed"
        title="RSS Feed"
      >
        <RssIcon />
      </a>
    </div>
  </div>
</div>

<script>
  const myDrawer = document.querySelector('#my-drawer');
  const links = document.querySelectorAll('a.menu');
  
  function toggleMenu() {
    myDrawer.checked = !myDrawer.checked;
  }

  // Maneja los clics en cada botÃ³n.
  links.forEach((button) => {
    button.addEventListener('click', () => {
      toggleMenu();
    });
  });
</script>