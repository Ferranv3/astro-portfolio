---
import { Image } from "@astrojs/image/components";
import RssIcon from "./icons/RssIcon";
import LinkedinIcon from "./icons/LinkedinIcon";
import GithubIcon from "./icons/GithubIcon";

const home = 'Home';
const contact = 'Contact';
const cv = 'CV';
const experience = 'Experience';
const education = 'Education';
---

<div class="drawer-side bg-base-200">
  <label for="my-drawer" class="drawer-overlay bg-base-200"></label>
  <div
    class="menu flex flex-col items-center flex-nowrap p-4 overflow-y-auto w-[20rem] bg-base-200 text-base-content"
  >
    <div class="w-fit">
      <a href="/">
        <div
          class="avatar transition ease-in-out w-1/2 hover:scale-[102%] block m-auto mt-3 mb-6 h-36"
        >
          <div>
            <Image
              class="mask mask-circle"
              aspectRatio="1:1"
              format="webp"
              width={300}
              height={300}
              src="/profile.jpeg"
              alt="Profile image"
            />
          </div>
        </div>
      </a>
    </div>
    <ul class="grow shrink pt-20">
      <!-- Sidebar content here -->
      <li><a id="home" href="/">{home}</a></li>
      <li><a id="experience" href="/#experience">{experience}</a></li>
      <li><a id="education" href="/#education">{education}</a></li>
      <!--<li><a id="projects" href="/projects">Projects</a></li>
      <li><a id="services" href="/services">Services</a></li>
      -->
      <li><a href="mailto:ferranhpv3@gmail.com">{contact}</a></li>
    </ul>
    <div class="social-icons px-4 my-2 flex self-center">
      <a
        href="https://github.com/Ferranv3"
        target="_blank"
        class="mx-3"
        aria-label="Github"
        title="Github"
      >
        <GithubIcon />
      </a>
      <a
        href="https://www.linkedin.com/in/ferran-hernandez-v3/"
        target="_blank"
        class="mx-3"
        aria-label="Linkedin"
        title="Linkedin"
      >
        <LinkedinIcon />
      </a>

      <a
        href="/rss.xml"
        target="_blank"
        class="mx-3"
        aria-label="RSS Feed"
        title="RSS Feed"
      >
        <RssIcon />
      </a>
    </div>
  </div>
</div>
<!--script>
  const homeLink = document.getElementById("home");
  const experienceLink = document.getElementById("experience");
  const educationLink = document.getElementById("education");
  const projectsLink = document.getElementById("projects");
  const servicesLink = document.getElementById("services");
  const storeLink = document.getElementById("store");
  const blogLink = document.getElementById("blog");

  var isHome = true;

  const url = window.location.href;

  const pages = [projectsLink, experienceLink, educationLink, servicesLink, storeLink, blogLink];

  const activeClass = "bg-base-300"; // For primary color replace with `active` class

  pages.forEach((elem) => {
    console.log('Elem id ' + elem?.id + ' url ' + url);
    if (elem?.id && url.includes(elem.id)) {
      isHome = false;
      elem?.classList.add(activeClass);
    }
  });
  if (isHome) {
    homeLink?.classList.add(activeClass);
  }
</script-->
