---
import HorizontalCard from "../components/HorizontalCard.astro";

const { title, featured, extra, seeMoreLabel } = Astro.props;
---
<>
  <div id="projects" class="mb-5">
    <div class="text-3xl w-full font-bold text-center">{title}</div>
  </div>

  {featured.map((project) => (
    <HorizontalCard {...project} />
  ))}
  <details id="extra-projects" class="group mt-6">
    <summary class="flex justify-center" aria-controls="extra-projects">
      <span class="btn btn-primary px-8">
        {seeMoreLabel}
      </span>
    </summary>
    <div class="mt-6 flex flex-col">
      {extra.map((project, index) => (
        <>
          <div class={`divider my-0 ${index === 0 ? 'mt-2' : ''}`}></div>
          <HorizontalCard {...project} />
        </>
      ))}
    </div>
  </details>

  <style>
    summary {
      list-style: none;
    }
    summary::-webkit-details-marker {
      display: none;
    }
    details[open] summary span.btn {
      opacity: 0.7;
    }
  </style>
</>
